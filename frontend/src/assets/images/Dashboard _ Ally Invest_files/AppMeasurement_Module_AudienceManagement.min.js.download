// For license information, see `https://assets.adobedtm.com/extensions/EPa06d4a70bf964e93808ee073533d9238/AppMeasurement_Module_AudienceManagement.js`.
function AppMeasurement_Module_AudienceManagement(e){var t=this;t.s=e;var n=window;n.s_c_in||(n.s_c_il=[],n.s_c_in=0),t._il=n.s_c_il,t._in=n.s_c_in,t._il[t._in]=t,n.s_c_in++,t._c="s_m",t.setup=function(e){n.DIL&&e&&(e.disableDefaultRequest=!0,e.disableCORS=!0,e.secureDataCollection=!1,t.instance=n.DIL.create(e),t.tools=n.DIL.tools)},t.isReady=function(){return!!t.instance},t.getEventCallConfigParams=function(){return t.instance&&t.instance.api&&t.instance.api.getEventCallConfigParams?t.instance.api.getEventCallConfigParams():{}},t.passData=function(e){t.instance&&t.instance.api&&t.instance.api.passData&&t.instance.api.passData(e)}}!function(){"use strict";var e,t,n;"function"!=typeof window.DIL&&(window.DIL=function(e){function t(e){return void 0===e||!0===e}function n(){W||(W=!0,q.registerRequest(),X())}var s,i,r,o,a,d,u,c,l,f,p,h,g,m,I,y,b,v,D,C,O,S=[],_={};e!==Object(e)&&(e={}),r=e.partner,o=e.containerNSID,a=e.mappings,d=e.uuidCookie,u=!0===e.enableErrorReporting,c=e.visitorService,l=e.declaredId,f=!0===e.delayAllUntilWindowLoad,p=t(e.secureDataCollection),h="boolean"==typeof e.isCoopSafe?e.isCoopSafe:null,g=t(e.enableHrefererParam),m=t(e.enableLogging),I=t(e.enableUrlDestinations),y=t(e.enableCookieDestinations),b=!0===e.disableDefaultRequest,v=e.afterResultForDefaultRequest,D=e.visitorConstructor,C=!0===e.disableCORS,O=!0===e.ignoreHardDependencyOnVisitorAPI,u&&DIL.errorModule.activate(),O&&S.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var w=!0===window._dil_unit_tests;if((s=arguments[1])&&S.push(s+""),!r||"string"!=typeof r){var R={name:"error",message:s="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(R),new Error(s)}if(s="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",!o&&"number"!=typeof o||(o=parseInt(o,10),!isNaN(o)&&0<=o&&(s="")),s&&(o=0,S.push(s),s=""),(i=DIL.getDil(r,o))instanceof DIL&&i.api.getPartner()===r&&i.api.getContainerNSID()===o)return i;if(!(this instanceof DIL))return new DIL(e,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+r+" and containerNSID = "+o);DIL.registerDil(this,r,o);var E={doesConsoleLogExist:window.console===Object(window.console)&&"function"==typeof window.console.log,logMemo:{},log:function(e){S.push(e),m&&this.doesConsoleLogExist&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,arguments)},logOnce:function(e){this.logMemo[e]||(this.logMemo[e]=!0,E.log(e))}},P={IS_HTTPS:p||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return null}()};P.IS_IE_LESS_THAN_10="number"==typeof P.IE_VERSION&&P.IE_VERSION<10;var L={stuffed:{}},A={},q={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:o+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,s,i=c;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(i!==Object(i)||!(t=i.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if((n=e.getInstance(t,{idSyncContainerID:o}))!==Object(n)||"function"!=typeof n.isAllowed||"function"!=typeof n.getMarketingCloudVisitorID||"function"!=typeof n.getCustomerIDs||"function"!=typeof n.isOptedOut||"function"!=typeof n.publishDestinations)throw this.releaseType="invalid instance",s="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(s+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3.0+ ."),new Error(s);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!O)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var e=this;this.instance&&(this.instance.getMarketingCloudVisitorID((function(t){e.mid=t,e.releaseType="VisitorAPI",e.releaseRequests()}),!0),(!F.exists||!F.isIabContext&&F.isApproved()||F.isIabContext&&G.hasGoSignal())&&setTimeout((function(){"VisitorAPI"!==e.releaseType&&(e.releaseType="timeout",e.releaseRequests())}),this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,q.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=x.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,s,i,r="",o=[],a=[];for(t in e)e.hasOwnProperty(t)&&(n=e[a[0]=t])===Object(n)&&(a[1]=n.id||"",a[2]=n.authState||0,o.push(a),a=[]);if(i=o.length)for(s=0;s<i;s++)r+="&d_cid_ic="+N.encodeAndBuildRequest(o[s],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,q.registerRequest(),F.isIabContext()&&G.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=x.isPopulatedString,s=encodeURIComponent;if(e===Object(e)&&n(t)){var i=e.dpid,r=e.dpuuid,o=null;if(n(i)&&n(r))return o=s(i)+"$"+s(r),!0===this.declaredIdCombos[o]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[o]=!0,this.declaredId[t]={dpid:i,dpuuid:r},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,s="";return null!==e?s="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(s="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),s}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(b=!0)),this.firing||!n.length||f&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(F.isApproved()||G.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+G.getQueryString()+"d_nsid="),x.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+G.getQueryString()+"d_nsid=")),k.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(D||window.Visitor)},getCoopQueryString:function(){var e="";return!0===h?e="&d_coop_safe=1":!1===h&&(e="&d_coop_unsafe=1"),e}};_.requestController=q;var j,T,M={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){function n(){i.jsonForComparison.push(e),i.jsonWaiting.push([e,t])}var s,i=this;if(e&&!x.isEmptyObject(e))if(s=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var r,o,a,d=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(a=this.jsonForComparison[r],s===JSON.stringify(a.dests||[])){d=!0;break}d?this.jsonDuplicates.push(e):n()}else n();if(this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u[0],u[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){if(I){var t,n,s,i,r,o,a=encodeURIComponent,d=this.getPublishDestinationsVersion(),u=!1;if(-1!==d){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(s=0;s<n;s++)i=t[s],o=[a("dests"),a(i.id||""),a(i.y||""),a(i.c||"")].join("|"),this.addMessage(o),r={url:i.c,hideReferrer:void 0===i.hr||!!i.hr,message:o},this.addDestination(r),void 0!==i.hr&&(u=!0);1===d&&u&&E.logOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3.0 to v4.0.0). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}}},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,I&&this.messages.length&&this.publishDestinations())},publishDestinations:function(){function e(e){E.log("visitor.publishDestinations() result: "+(e.error||e.message)),n.sendingMessages=!1,n.requestToProcess()}function t(){n.messages=[],n.destinations=[]}var n=this,s=q.adms.instance,i=[],o=[];return 1===this.publishDestinationsVersion?(N.extendArray(i,this.messages),N.extendArray(this.messagesPosted,this.messages),t(),s.publishDestinations(r,i,e),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(N.extendArray(o,this.destinations),N.extendArray(this.destinationsPosted,this.destinations),t(),s.publishDestinations({subdomain:r,callback:e,urlDestinations:o}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=q.adms.instance,t=-1;return e.publishDestinations(null,null,(function(e){if(e===Object(e)){var n=e.error;"subdomain is not a populated string."===n?t=1:"Invalid parameters passed."===n&&(t=2)}})),this.publishDestinationsVersion=t}},V={traits:function(e){return x.isValidPdata(e)&&(A.sids instanceof Array||(A.sids=[]),N.extendArray(A.sids,e)),this},pixels:function(e){return x.isValidPdata(e)&&(A.pdata instanceof Array||(A.pdata=[]),N.extendArray(A.pdata,e)),this},logs:function(e){return x.isValidLogdata(e)&&(A.logdata!==Object(A.logdata)&&(A.logdata={}),N.extendObject(A.logdata,e)),this},customQueryParams:function(e){return x.isEmptyObject(e)||N.extendObject(A,e,q.reservedKeys),this},signals:function(e,t){var n,s=e;if(!x.isEmptyObject(s)){if(t&&"string"==typeof t)for(n in s={},e)e.hasOwnProperty(n)&&(s[t+n]=e[n]);N.extendObject(A,s,q.reservedKeys)}return this},declaredId:function(e){return q.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(A.callback=e),this},afterResult:function(e){return"function"==typeof e&&(A.postCallbackFn=e),this},useImageRequest:function(){return A.useImageRequest=!0,this},clearData:function(){return A={},this},submit:function(e){return A.isDefaultRequest=!!e,k.submitRequest(A),A={},this},getPartner:function(){return r},getContainerNSID:function(){return o},getEventLog:function(){return S},getState:function(){var t={},n={};return N.extendObject(t,q,{registerRequest:!0}),N.extendObject(n,M,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:e,pendingRequest:A,otherRequestInfo:t,destinationPublishingInfo:n,log:S}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return x.isEmptyObject(e)?"Error: json is empty or not an object":(k.defaultCallback(e),e)},getPlatformParams:function(){return q.platformParams},getEventCallConfigParams:function(){var e,t=q,n=t.modStatsParams,s=t.platformParams;if(!n){for(e in n={},s)s.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=s[e]);!0===h?n.coop_safe=1:!1===h&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return h=!0,this},setAsCoopUnsafe:function(){return h=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void G.getQueryStringObject(e.callback,t))}},k={corsMetadata:(j="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(j="XMLHttpRequest"),{corsType:j}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return q.registerRequest(k.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,s,i,r,o=e.callback,d="img",u=e.isDefaultRequest;if(delete e.isDefaultRequest,!x.isEmptyObject(a))for(s in a)if(a.hasOwnProperty(s)){if(null==(i=a[s])||""===i)continue;if(s in e&&!(i in e)&&!(i in q.reservedKeys)){if(null==(r=e[s])||""===r)continue;e[i]=r}}return x.isValidPdata(e.sids)||(e.sids=[]),x.isValidPdata(e.pdata)||(e.pdata=[]),x.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=N.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(d="cors"),{tag:d,src:t.src,corsSrc:t.corsSrc,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:u}},defaultCallback:function(e,t){var n,s,i,r,o,a,u,c,l;if(y&&(n=e.stuff)&&n instanceof Array&&(s=n.length))for(i=0;i<s;i++)(r=n[i])&&r===Object(r)&&(o=r.cn,a=r.cv,void 0!==(u=r.ttl)&&""!==u||(u=Math.floor(N.getMaxCookieExpiresInMinutes()/60/24)),c=r.dmn||"."+document.domain.replace(/^www\./,""),l=r.type,o&&(a||"number"==typeof a)&&("var"!==l&&(u=parseInt(u,10))&&!isNaN(u)&&N.setCookie(o,a,24*u*60,"/",c,!1),L.stuffed[o]=a));var f,p,h=e.uuid;x.isPopulatedString(h)&&(x.isEmptyObject(d)||("string"==typeof(f=d.path)&&f.length||(f="/"),p=parseInt(d.days,10),isNaN(p)&&(p=100),N.setCookie(d.name||"aam_did",h,24*p*60,f,d.domain||"."+document.domain.replace(/^www\./,""),!0===d.secure))),q.abortRequests||M.requestToProcess(e,t)},makeRequestSrcData:function(e){e.sids=x.removeEmptyArrayValues(e.sids||[]),e.pdata=x.removeEmptyArrayValues(e.pdata||[]);var t=q,n=t.platformParams,s=N.encodeAndBuildRequest(e.sids,","),i=N.encodeAndBuildRequest(e.pdata,","),o=(e.logdataArray||[]).join("&");delete e.logdataArray;var a,d,u=encodeURIComponent,c=P.IS_HTTPS?"https://":"http://",l=t.declaredId.getDeclaredIdQueryString(),f=t.adms.instance?t.adms.getCustomerIDsQueryString(t.adms.getCustomerIDs()):"",p=function(){var n,s,i,r,o=[];for(n in e)if(!(n in t.reservedKeys)&&e.hasOwnProperty(n))if(s=e[n],n=u(n),s instanceof Array)for(i=0,r=s.length;i<r;i++)o.push(n+"="+u(s[i]));else o.push(n+"="+u(s));return o.length?"&"+o.join("&"):""}(),h="d_dil_ver="+u(DIL.version),m="d_nsid="+n.d_nsid+t.getCoopQueryString()+l+f+(s.length?"&d_sid="+s:"")+(i.length?"&d_px="+i:"")+(o.length?"&d_ld="+u(o):""),I="&d_rtbd="+n.d_rtbd+"&d_jsonv="+n.d_jsonv+"&d_dst="+n.d_dst,y=g?"&h_referer="+u(location.href):"";return d=(a=c+r+".demdex.net/event")+"?"+h+"&"+m+I+p+y,{corsSrc:a+"?"+h+"&_ts="+(new Date).getTime(),src:d,corsPostData:m+I+p+y,isDeclaredIdCall:""!==l}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=q.declaredId,n=t.declaredId.request||t.declaredId.init||{},s={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,s)}},fireImage:function(e){var t,n,i=q;i.abortRequests||(i.firing=!0,t=new Image(0,0),i.sent.push(e),t.onload=function(){i.firing=!1,i.fired.push(e),i.num_of_img_responses++,i.registerRequest()},n=function(t){s="imgAbortOrErrorHandler received the event of type "+t.type,E.log(s),i.abortRequests=!0,i.firing=!1,i.errored.push(e),i.num_of_img_errors++,i.registerRequest()},t.addEventListener("error",n),t.addEventListener("abort",n),t.src=e.src)},fireCORS:function(e,t){var n=this,i=q,o=this.corsMetadata.corsType,a=e.corsSrc,d=e.corsInstance,u=e.corsPostData,c=e.postCallbackFn,l="function"==typeof c;if(!i.abortRequests&&!C){i.firing=!0;try{d.open("post",a,!0),"XMLHttpRequest"===o&&(d.withCredentials=!0,d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(o){var a;try{if((a=JSON.parse(o))!==Object(a))return n.handleCORSError(e,t,"Response is not JSON")}catch(o){return n.handleCORSError(e,t,"Error parsing response as JSON")}try{var d=e.callbackFn;i.firing=!1,i.fired.push(e),i.num_of_cors_responses++,d(a,t),l&&c(a,t)}catch(o){o.message="DIL handleCORSResponse caught error with message "+o.message,s=o.message,E.log(s),o.filename=o.filename||"dil.js",o.partner=r,DIL.errorModule.handleError(o);try{d({error:o.name+"|"+o.message},t),l&&c({error:o.name+"|"+o.message},t)}catch(o){}}finally{i.registerRequest()}}(this.responseText)}),d.onerror=function(){n.handleCORSError(e,t,"onerror")},d.ontimeout=function(){n.handleCORSError(e,t,"ontimeout")},d.send(u)}catch(o){this.handleCORSError(e,t,"try-catch")}i.sent.push(e),i.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){q.num_of_cors_errors++,q.corsErrorSources.push(n)}},x={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,s=e.length,i=[];for(n=0;n<s;n++)null!=(t=e[n])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},N={convertObjectToKeyValuePairs:function(e,t,n){var s,i,r=[];for(s in t=t||"=",e)e.hasOwnProperty(s)&&null!=(i=e[s])&&""!==i&&r.push(s+t+(n?encodeURIComponent(i):i));return r},encodeAndBuildRequest:function(e,t){return e.map((function(e){return encodeURIComponent(e)})).join(t)},getCookie:function(e){var t,n,s,i=e+"=",r=document.cookie.split(";");for(t=0,n=r.length;t<n;t++){for(s=r[t];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}return null},setCookie:function(e,t,n,s,i,r){var o=new Date;n=n&&1e3*n*60,document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(o.getTime()+n).toUTCString():"")+(s?";path="+s:"")+(i?";domain="+i:"")+(r?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var s;if(e!==Object(e)||t!==Object(t))return!1;for(s in t)if(t.hasOwnProperty(s)){if(!x.isEmptyObject(n)&&s in n)continue;e[s]=t[s]}return!0},getMaxCookieExpiresInMinutes:function(){return P.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)}},F=(T=_.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions((function(){e.callback()}),!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),T.adms.waitForMidToReleaseRequests(),T.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!T.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});_.optIn=F;var Q,H,U,B,G=(H=(Q=_).requestController,U=Q.optIn,B={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(U.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||H.adms.isOptedOut)},fetchConsentData:function(e,t){var n=this,s={};"function"!=typeof e&&(e=function(){}),U.instance&&U.isIabContext()?(t&&(s.timeout=t),U.instance.execute({command:"iabPlugin.fetchConsentData",params:s,callback:function(t,s){s===Object(s)?(n.doesGdprApply=!!s.gdprApplies,n.consentString=s.consentString||""):(n.doesGdprApply=!1,n.consentString=""),n.isVendorConsented=U.instance.isApproved(U.instance.Categories.AAM),t?e({}):n.checkQueryStringObject(e),H.adms.waitForMidToReleaseRequests()}})):e({})},getQueryString:function(){return U.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){B.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});_.iab=G,"error"===r&&0===o&&window.addEventListener("load",(function(){DIL.windowLoaded=!0}));var W=!1,X=function(){setTimeout((function(){b||q.firstRequestHasFired||("function"==typeof v?V.afterResult(v).submit(!0):V.submit(!0))}),DIL.constants.TIME_TO_DEFAULT_REQUEST)},K=document;"error"!==r&&(DIL.windowLoaded?n():"complete"!==K.readyState&&"loaded"!==K.readyState?window.addEventListener("load",(function(){DIL.windowLoaded=!0,n()})):(DIL.windowLoaded=!0,n())),q.declaredId.setDeclaredId(l,"init"),F.init(),G.init(),q.processVisitorAPI(),P.IS_IE_LESS_THAN_10&&N.replaceMethodsWithFunction(V,(function(){return this})),this.api=V,this.getStuffedVariable=function(e){var t=L.stuffed[e];return t||"number"==typeof t||(t=N.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=x,this.helpers=N,this.constants=P,this.log=S,this.pendingRequest=A,this.requestController=q,this.destinationPublishing=M,this.requestProcs=k,this.units=_,this.initConfig=e,this.logger=E,w&&(this.variables=L,this.callWindowLoadFunctions=n)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.4",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,n){var s=t+"$"+n;s in this.dils||(this.dils[s]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),(n=e+"$"+(t=t||0))in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){var s=this.getDil(t,n);return s instanceof this?s.getStuffedVariable(e):""}}),DIL.errorModule=(e=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),n=!(t={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){n=!0},handleError:function(s){if(!n)return"DIL error module has not been activated";s!==Object(s)&&(s={});var i=s.name?(s.name+"").toLowerCase():"",r=i in t?t[i]:t.noerrortypedefined,o=[],a={name:i,filename:s.filename?s.filename+"":"",partner:s.partner?s.partner+"":"no_partner",site:s.site?s.site+"":document.location.href,message:s.message?s.message+"":""};return o.push(r),e.api.pixels(o).logs(a).useImageRequest().submit(),"DIL error report sent"},pixelMap:t}),DIL.tools={},DIL.modules={helpers:{}})}();