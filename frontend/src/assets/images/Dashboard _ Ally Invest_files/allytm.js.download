(function () { if (!window.allytm) { window.allytm = { queue: [], ddo: { get: function get(key, defaultValue) { return defaultValue || null }, set: function set(key, value) { window.allytm.queue.push({ command: "ddo.set", parameters: [key, value] }) } }, on: function on(topic, callback) { document.addEventListener("allytmReady", function () { window.allytm.on(topic, callback) }) }, trigger: function trigger(topic, data) { window.allytm.queue.push({ command: "trigger", parameters: [topic, data || {}] }) }, event: function event(eventName) { var args = Array.prototype.slice.call(arguments); window.allytm.queue.push({ command: eventName, parameters: args.slice(1) || [] }); if (typeof window.allytm.dequeue === "function") { window.allytm.dequeue() } } } } })();
